---
import Layout from "../layouts/Layout.astro";
import ScriptCard from "../components/ScriptCard.astro";

const base = import.meta.env.BASE_URL;

const allScripts = Object.values(
  import.meta.glob("./scripts/*.mdx", { eager: true })
);
---

<Layout>
  <h1>Tampermonkey</h1>
  <p>
    Tampermonkey is a browser extension that can be used to add scripts to a
    website to extend its functionality.
  </p>
  <p>
    On this page you will find a list of scripts I have made that can be used
    for various purposes, primarily Canvas LMS.
  </p>
  <p>
    If you want to read more about Tampermonkey, you can
    <a href="https://www.tampermonkey.net/" target="_blank"
      >visit the Tampermonkey homepage</a
    >, where you will also find instructions on how to install it.
  </p>
  <p>
    The scripts on this page are made available as downloadble zip files which
    can be imported into Tampernonkey. If you want to, you can
    <a href={`${base}/import`}
      >learn how to import scripts from zip files here</a
    >.
  </p>

  <h2>Scripts</h2>
  <p>
    Click the boxes below to read more about a script and
    download it.
  </p>

  <ul class="scriptlist">
    {
      allScripts.map((script: any) => (
        <ScriptCard
          url={script.url}
          title={script.frontmatter.title}
          description={script.frontmatter.description}
          version={script.frontmatter.version}
          tags={script.frontmatter.tags}
        />
      ))
    }
  </ul>
</Layout>

<style>
  h1 {
    font-size: 2rem;
    text-align: center;
  }

  .scriptlist{
    display: grid;
    gap: 1rem;
    grid-template-columns: repeat(auto-fit, minmax(20rem, 1fr));
    list-style: none;
    margin: 0;
    padding: 0;
  }
</style>
